<Window x:Class="MyGrampsApp.AddPersonWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Додати нову особу" Height="550" Width="450">
    <StackPanel Margin="20">
        <TextBlock Text="Прізвище:"/>
        <TextBox Text="{Binding NewPerson.LastName, UpdateSourceTrigger=PropertyChanged}" Margin="0,0,0,10"/>

        <TextBlock Text="Ім'я:"/>
        <TextBox Text="{Binding NewPerson.FirstName, UpdateSourceTrigger=PropertyChanged}" Margin="0,0,0,10"/>

        <TextBlock Text="По батькові:"/>
        <TextBox Text="{Binding NewPerson.Patronymic, UpdateSourceTrigger=PropertyChanged}" Margin="0,0,0,10"/>

        <TextBlock Text="Дівоче прізвище:"/>
        <TextBox Text="{Binding NewPerson.MaidenName, UpdateSourceTrigger=PropertyChanged}" Margin="0,0,0,10"/>

        <Grid Margin="0,0,0,10">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <StackPanel Grid.Column="0" Margin="0,0,5,0">
                <TextBlock Text="Стать:"/>
                <ComboBox SelectedValue="{Binding NewPerson.Sex}" SelectedValuePath="Content">
                    <ComboBoxItem Content="M"/>
                    <ComboBoxItem Content="F"/>
                </ComboBox>
            </StackPanel>

            <StackPanel Grid.Column="1" Margin="5,0,0,0">
                <TextBlock Text="Дата народження:"/>
                <DatePicker SelectedDate="{Binding NewPerson.BirthDate}" 
            Focusable="False" 
            IsTodayHighlighted="True">
                    <DatePicker.Resources>
                        <Style TargetType="DatePickerTextBox">
                            <Setter Property="IsReadOnly" Value="True"/>
                        </Style>
                    </DatePicker.Resources>
                </DatePicker>

            </StackPanel>
        </Grid>

        <Grid Margin="0,0,0,10">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>
            <StackPanel Grid.Column="0" Margin="0,0,5,0">
                <TextBlock Text="Дата смерті (якщо є):" Foreground="DarkRed" Margin="0,10,0,0"/>
                <DatePicker SelectedDate="{Binding NewPerson.DeathDate}" Focusable="False" Margin="0,0,0,10">
                    <DatePicker.Resources>
                        <Style TargetType="DatePickerTextBox">
                            <Setter Property="IsReadOnly" Value="True"/>
                        </Style>
                    </DatePicker.Resources>
                </DatePicker>
            </StackPanel>
        </Grid>
        <TextBlock Text="Місце народження:"/>
         <ComboBox ItemsSource="{Binding Places}" 
          DisplayMemberPath="name" 
          SelectedValuePath="id" 
          SelectedValue="{Binding NewPerson.BirthPlaceId}" 
          IsEditable="True" 
          Text="{Binding NewBirthPlaceName, UpdateSourceTrigger=PropertyChanged}"
          Margin="0,0,0,10"/>
        <TextBlock Text="Нотатки:"/>
        <TextBox Text="{Binding NewPerson.Notes}" Height="60" TextWrapping="Wrap" AcceptsReturn="True" Margin="0,0,0,15"/>

        <Button Content="Зберегти особу" 
                Command="{Binding SaveCommand}" 
                CommandParameter="{Binding RelativeSource={RelativeSource AncestorType=Window}}"
                Height="40" 
                Background="LightGreen"/>
    </StackPanel>
</Window>